<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentScriptType="application/ecmascript" contentStyleType="text/css" height="450px" preserveAspectRatio="none" style="width:671px;height:450px;" version="1.1" viewBox="0 0 671 450" width="671px" zoomAndPan="magnify"><defs><filter height="300%" id="f1p1xj81kp1dv3" width="300%" x="-1" y="-1"><feGaussianBlur result="blurOut" stdDeviation="2.0"/><feColorMatrix in="blurOut" result="blurOut2" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 .4 0"/><feOffset dx="4.0" dy="4.0" in="blurOut2" result="blurOut3"/><feBlend in="SourceGraphic" in2="blurOut3" mode="normal"/></filter></defs><g><ellipse cx="206.75" cy="20" fill="#000000" filter="url(#f1p1xj81kp1dv3)" rx="10" ry="10" style="stroke:none;stroke-width:1.0;"/><polygon fill="#FEFECE" filter="url(#f1p1xj81kp1dv3)" points="162.75,50,250.75,50,262.75,62,250.75,74,162.75,74,150.75,62,162.75,50" style="stroke:#A80036;stroke-width:1.5;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="88" x="162.75" y="65.8081">从连接池获取链接</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="21" x="129.75" y="59.4058">yes</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="14" x="262.75" y="59.4058">no</text><rect fill="#FEFECE" filter="url(#f1p1xj81kp1dv3)" height="33.9688" rx="12.5" ry="12.5" style="stroke:#A80036;stroke-width:1.5;" width="68" x="11" y="84"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="48" x="21" y="105.1387">返回链接</text><rect fill="#000000" filter="url(#f1p1xj81kp1dv3)" height="6" rx="2.5" ry="2.5" style="stroke:#000000;stroke-width:1.0;" width="565" x="89" y="84"/><rect fill="#FEFECE" filter="url(#f1p1xj81kp1dv3)" height="33.9688" rx="12.5" ry="12.5" style="stroke:#A80036;stroke-width:1.5;" width="80" x="133" y="110"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="60" x="143" y="131.1387">创建新连接</text><rect fill="#FEFECE" filter="url(#f1p1xj81kp1dv3)" height="33.9688" rx="12.5" ry="12.5" style="stroke:#A80036;stroke-width:1.5;" width="144" x="101" y="178.9688"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="124" x="111" y="200.1074">把链接放到管道dialc中</text><rect fill="#FEFECE" filter="url(#f1p1xj81kp1dv3)" height="33.9688" rx="12.5" ry="12.5" style="stroke:#A80036;stroke-width:1.5;" width="120" x="113" y="247.9375"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="100" x="123" y="269.0762">从dialc中获取连接</text><rect fill="#FEFECE" filter="url(#f1p1xj81kp1dv3)" height="33.9688" rx="12.5" ry="12.5" style="stroke:#A80036;stroke-width:1.5;" width="267" x="273" y="144.4844"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="247" x="283" y="165.623">从管道idleConnCh中获取连接刚刚释放的链接</text><rect fill="#FEFECE" filter="url(#f1p1xj81kp1dv3)" height="33.9688" rx="12.5" ry="12.5" style="stroke:#A80036;stroke-width:1.5;" width="221" x="296" y="213.4531"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="201" x="306" y="234.5918">把新创建的连接放到连接池或者close</text><rect fill="#FEFECE" filter="url(#f1p1xj81kp1dv3)" height="33.9688" rx="12.5" ry="12.5" style="stroke:#A80036;stroke-width:1.5;" width="92" x="550" y="178.9688"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="72" x="560" y="200.1074">其他错误处理</text><rect fill="#000000" filter="url(#f1p1xj81kp1dv3)" height="6" rx="2.5" ry="2.5" style="stroke:#000000;stroke-width:1.0;" width="565" x="89" y="301.9063"/><rect fill="#FEFECE" filter="url(#f1p1xj81kp1dv3)" height="33.9688" rx="12.5" ry="12.5" style="stroke:#A80036;stroke-width:1.5;" width="72" x="344.5" y="327.9063"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="48" x="358.5" y="349.0449">返回链接</text><polygon fill="#FEFECE" filter="url(#f1p1xj81kp1dv3)" points="206.75,367.875,218.75,379.875,206.75,391.875,194.75,379.875,206.75,367.875" style="stroke:#A80036;stroke-width:1.5;"/><ellipse cx="206.75" cy="422.875" fill="#FFFFFF" filter="url(#f1p1xj81kp1dv3)" rx="11" ry="11" style="stroke:#000000;stroke-width:1.0;"/><ellipse cx="206.75" cy="422.875" fill="#000000" rx="6" ry="6" style="stroke:#7F7F7F;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.5;" x1="173" x2="173" y1="143.9688" y2="178.9688"/><polygon fill="#A80036" points="169,168.9688,173,178.9688,177,168.9688,173,172.9688" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.5;" x1="173" x2="173" y1="212.9375" y2="247.9375"/><polygon fill="#A80036" points="169,237.9375,173,247.9375,177,237.9375,173,241.9375" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.5;" x1="406.5" x2="406.5" y1="178.4531" y2="213.4531"/><polygon fill="#A80036" points="402.5,203.4531,406.5,213.4531,410.5,203.4531,406.5,207.4531" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.5;" x1="173" x2="173" y1="90" y2="110"/><polygon fill="#A80036" points="169,100,173,110,177,100,173,104" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.5;" x1="406.5" x2="406.5" y1="90" y2="144.4844"/><polygon fill="#A80036" points="402.5,134.4844,406.5,144.4844,410.5,134.4844,406.5,138.4844" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.5;" x1="596" x2="596" y1="90" y2="178.9688"/><polygon fill="#A80036" points="592,168.9688,596,178.9688,600,168.9688,596,172.9688" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.5;" x1="173" x2="173" y1="281.9063" y2="301.9063"/><polygon fill="#A80036" points="169,291.9063,173,301.9063,177,291.9063,173,295.9063" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.5;" x1="406.5" x2="406.5" y1="247.4219" y2="301.9063"/><polygon fill="#A80036" points="402.5,291.9063,406.5,301.9063,410.5,291.9063,406.5,295.9063" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.5;" x1="596" x2="596" y1="212.9375" y2="301.9063"/><polygon fill="#A80036" points="592,291.9063,596,301.9063,600,291.9063,596,295.9063" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.5;" x1="380.5" x2="380.5" y1="307.9063" y2="327.9063"/><polygon fill="#A80036" points="376.5,317.9063,380.5,327.9063,384.5,317.9063,380.5,321.9063" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.5;" x1="150.75" x2="45" y1="62" y2="62"/><line style="stroke:#A80036;stroke-width:1.5;" x1="45" x2="45" y1="62" y2="84"/><polygon fill="#A80036" points="41,74,45,84,49,74,45,78" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.5;" x1="262.75" x2="380.5" y1="62" y2="62"/><line style="stroke:#A80036;stroke-width:1.5;" x1="380.5" x2="380.5" y1="62" y2="84"/><polygon fill="#A80036" points="376.5,74,380.5,84,384.5,74,380.5,78" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.5;" x1="45" x2="45" y1="117.9688" y2="379.875"/><line style="stroke:#A80036;stroke-width:1.5;" x1="45" x2="194.75" y1="379.875" y2="379.875"/><polygon fill="#A80036" points="184.75,375.875,194.75,379.875,184.75,383.875,188.75,379.875" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.5;" x1="380.5" x2="380.5" y1="361.875" y2="379.875"/><line style="stroke:#A80036;stroke-width:1.5;" x1="380.5" x2="218.75" y1="379.875" y2="379.875"/><polygon fill="#A80036" points="228.75,375.875,218.75,379.875,228.75,383.875,224.75,379.875" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.5;" x1="206.75" x2="206.75" y1="30" y2="50"/><polygon fill="#A80036" points="202.75,40,206.75,50,210.75,40,206.75,44" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.5;" x1="206.75" x2="206.75" y1="391.875" y2="411.875"/><polygon fill="#A80036" points="202.75,401.875,206.75,411.875,210.75,401.875,206.75,405.875" style="stroke:#A80036;stroke-width:1.0;"/><!--MD5=[5cc845e7c5e2b019d4276ac9d2177d8e]
@startuml
start
if (从连接池获取链接) then (yes)
    :返回链接;
else (no)
  fork
	:创建新连接;
    :把链接放到管道dialc中;
    :从dialc中获取连接;
  fork again
	:从管道idleConnCh中获取连接刚刚释放的链接;
    :把新创建的连接放到连接池或者close;
  fork again
    :其他错误处理;
  end fork
  : 返回链接;
endif
stop
@enduml

PlantUML version 1.2020.22(Sun Dec 06 09:36:27 UTC 2020)
(GPL source distribution)
Java Runtime: Java(TM) SE Runtime Environment
JVM: Java HotSpot(TM) 64-Bit Server VM
Default Encoding: UTF-8
Language: en
Country: US
--></g></svg>