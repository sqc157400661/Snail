# 数据定义

## (1).函数返回值问题

下面代码是否可以编译通过？

```
package main

import "fmt"

/*
   下面代码是否编译通过?
*/
func myFunc(x,y int)(sum int,error){
	return x+y,nil
}

func main() {
	num, _ := myFunc(1, 2)
	fmt.Println("num = ", num)
}
```

答案:

编译报错理由:

```
# command-line-arguments
./test1.go:6:21: syntax error: mixed named and unnamed function parameters
```

> 考点：函数返回值命名

> 结果：编译出错。

> 在函数有多个返回值时，**只要有一个返回值有指定命名，其他的也必须有命名**。 如果返回值有有多个返回值必须加上括号； 如果只有一个返回值并且有命名也需要加上括号； 此处函数第一个返回值有sum名称，第二个未命名，所以错误。



## (2).结构体比较问题

下面代码是否可以编译通过？为什么？

```
package main

import "fmt"

func main() {

	sn1 := struct {
		age  int
		name string
	}{age: 11, name: "qq"}

	sn2 := struct {
		age  int
		name string
	}{age: 11, name: "qq"}

	if sn1 == sn2 {
		fmt.Println("sn1 == sn2")
	}

	sm1 := struct {
		age int
		m   map[string]string
	}{age: 11, m: map[string]string{"a": "1"}}

	sm2 := struct {
		age int
		m   map[string]string
	}{age: 11, m: map[string]string{"a": "1"}}

	if sm1 == sm2 {
		fmt.Println("sm1 == sm2")
	}
}
```

结果

编译不通过

```
./test2.go:31:9: invalid operation: sm1 == sm2 (struct containing map[string]string cannot be compared)
```

考点:**结构体比较**

> **结构体比较规则注意1**：只有相同类型的结构体才可以比较，结构体是否相同不但与属性类型个数有关，还与属性顺序相关.

比如：

```
sn1 := struct {
	age  int
	name string
}{age: 11, name: "qq"}

sn3:= struct {
    name string
    age  int
}{age:11, name:"qq"}
```

`sn3`与`sn1`就不是相同的结构体了，不能比较。

> **结构体比较规则注意2**：结构体是相同的，但是结构体属性中有不可以比较的类型，如`map`,`slice`，则结构体不能用`==`比较。

可以使用reflect.DeepEqual进行比较

```
if reflect.DeepEqual(sm1, sm2) {
		fmt.Println("sm1 == sm2")
} else {
		fmt.Println("sm1 != sm2")
}
```